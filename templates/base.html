<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sistema Oftalmológico</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      margin: 0;
      padding: 0;
    }

    /* Sidebar fijo */
    .sidebar {
      background-color: #e9ecef;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 240px;
      padding: 20px;
      border-right: 1px solid #dee2e6;
      overflow-y: auto;
    }

    /* Encabezado */
    header {
      background-color: #ffffff;
      border-bottom: 1px solid #dee2e6;
      padding: 1rem 2rem;
      position: fixed;
      top: 0;
      left: 240px; /* espacio para el sidebar */
      right: 0;
      z-index: 1000;
    }

    /* Contenido principal */
    .main-content {
      margin-left: 240px; /* igual al ancho del sidebar */
      padding: 80px 20px 20px; /* espacio para el header */
    }

    .nav-link {
      font-weight: 500;
    }

    .nav-link:hover,
    .nav-link.active {
      background-color: #dee2e6;
      border-radius: 5px;
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <nav class="sidebar">
    <h6 class="text-center mb-4">Panel de navegación</h6>
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'buscar_paciente' %}active{% endif %}" href="{% url 'pacientes:buscar_paciente' %}">
          <i class="bi bi-people"></i> Pacientes
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_citas' %}active{% endif %}" href="{% url 'citas:listado_citas' %}">
          <i class="bi bi-calendar-event"></i> Citas
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_admisiones' %}active{% endif %}" href="{% url 'admisiones:listado_admisiones' %}">
          <i class="bi bi-person-check"></i> Admisiones
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_historias' %}active{% endif %}" href="{% url 'historias:listado_historias' %}">
          <i class="bi bi-journal-text"></i> Historias clínicas
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_productos' %}active{% endif %}" href="{% url 'productos:listado_productos' %}">
          <i class="bi bi-box-seam"></i> Inventario
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_informes' %}active{% endif %}" href="{% url 'informes:listado_informes' %}">
          <i class="bi bi-file-earmark-excel"></i> Informes
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_rips' %}active{% endif %}" href="{% url 'rips:listado_rips' %}">
          <i class="bi bi-file-earmark-text"></i> Rips
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'listado_facturas' %}active{% endif %}" href="{% url 'facturacion:listado_facturas' %}">
          <i class="bi bi-receipt"></i> Facturación
        </a>
      </li>

      <!-- Nuevo módulo Soportes -->
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'lista_numeros_control' %}active{% endif %}" 
            href="{% url 'soportes:lista_numeros_control' %}">
          <i class="bi bi-life-preserver"></i> Soportes
        </a>
      </li>


      </li>

      <li class="nav-item mt-3">
        <a class="nav-link text-danger" href="{% url 'logout' %}">
          <i class="bi bi-box-arrow-right"></i> Cerrar sesión
        </a>
      </li>
    </ul>
  </nav>

  <!-- Header -->
  <header>
    <h4 class="mb-0"><i class="bi bi-eyeglasses"></i> Sistema Oftalmológico</h4>
  </header>

  <!-- Contenido principal -->
  <main class="main-content">
    {% block content %}
    <!-- Aquí va el contenido de cada página -->
    {% endblock %}
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
